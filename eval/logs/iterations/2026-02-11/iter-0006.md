# Iteration 0006

- Original iteration number: 6
- Source: eval/IMPROVEMENT_PLAN.ja.md (frozen)

* Iteration: 6
* Target item: 1. SQLカタログ単体テストの改善（ZTD / Mapping）
* Change applied: P5（`eval/loop.ts` に heartbeat ログを追加。既存処理順・timeout は不変）
* Expected effect: `loop` がどこで停止しているかをイベント行で確定できる
* Observed effect:
  - コマンド: `pnpm exec ts-node eval/loop.ts --loop 1 --scenario crud-basic --report-prefix eval/reports/loop-plan-check`
  - イベント（Observed）:
    - `event=loop_start`
    - `event=iteration_prepare`
    - `event=run_command_start`
    - `event=run_command_end exit_code=1 elapsed_ms=102091`
    - `event=report_read_start` / `event=report_read_end exists=true size_bytes=19415`
    - `event=summary_write_start` / `event=summary_write_end`
    - `event=loop_done exit_code=0 reports=1`
  - 生成物: `loop-plan-check-20260210043546-01.json`, `loop-plan-check-summary-20260210043546.json`
* Verdict: Effective
* If Ineffective: N/A
* Proposal stack:
  - Pending:
    - P6: `run_command_end exit_code` と最終 `loop_done` の意味差（runner失敗でもsummaryは成功）を summary 側の明示フィールドへ出す。
  - Dropped as noise:
    - なし
  - Dropped as waste:
    - なし